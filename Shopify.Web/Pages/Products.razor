@page "/"

@if (ProductsList == null)
{
    <DisplaySpinner />
}
else
{
    <h3>Products</h3>
    var productCount = ProductsList.Count();
    @if (productCount > 0)
    {

        <div class="row mt-3">
            @foreach(var prodGroup in GetGroupedProductsByCategory())
            {
                <h4>@GetCategoryName(prodGroup)</h4>
                <div class="row mt-3"> 
                    <DisplayProducts ProductsList="@prodGroup.Take(4)"></DisplayProducts>
                </div>
                <hr class="mb-3"/>
            }
        </div>

    }
}